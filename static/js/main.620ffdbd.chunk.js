(this.webpackJsonprolling=this.webpackJsonprolling||[]).push([[0],{175:function(e,t,n){},188:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(59),o=n.n(r),i=n(65),s=n(95);n(171),n(189);s.a.initializeApp({apiKey:"AIzaSyCc1jz1omi_w6uOYY0fV2CVLHLEBhoRSfg",authDomain:"rollingpapers-01.firebaseapp.com",projectId:"rollingpapers-01",storageBucket:"rollingpapers-01.appspot.com",messagingSenderId:"304299998135",appId:"1:304299998135:web:faf3ddb5340bbd4153c632",measurementId:"G-3PP7X8G4MZ"});var l=s.a,j=s.a.auth(),d=s.a.firestore(),u=n(93),b=n(13),O=n(83),h=n.n(O),p=n(97),x=(n(174),n(213)),f=n(214),m=n(88),g=n(212),v=(n(175),n(5)),y=function(){var e=function(){var e=Object(p.a)(h.a.mark((function e(t){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(n=t.target.name)?c=new l.auth.GoogleAuthProvider:"facebook"===n&&(c=new l.auth.FacebookAuthProvider),e.next=4,j.signInWithPopup(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{style:{paddingTop:"20%"},children:Object(v.jsx)(x.a,{columns:"1",stackable:!0,centered:!0,verticalAlign:"middle",children:Object(v.jsxs)(x.a.Column,{computer:"4",mobile:"4",widescreen:"4",children:[Object(v.jsxs)(f.a,{as:"h2",icon:!0,textAlign:"center",size:"huge",color:"yellow",children:[Object(v.jsx)(m.a,{name:"graduation cap"}),Object(v.jsx)(f.a.Content,{children:"Start with"})]}),Object(v.jsxs)(g.a.Group,{size:"huge",children:[Object(v.jsxs)(g.a,{name:"google",onClick:e,color:"google plus",children:[Object(v.jsx)(m.a,{name:"google"})," Google"]}),Object(v.jsx)(g.a.Or,{}),Object(v.jsxs)(g.a,{name:"facebook",onClick:e,color:"facebook",children:[Object(v.jsx)(m.a,{name:"facebook"})," Facebook"]})]})]})})})},k=n(58),w=n.n(k),C=n(92),S=n(41),A=n(211),z=n(152),I=n(208),N=n(205),R=n(207),F=n(149),P=n.n(F),L=function(e){var t=e.userObj,n=Object(c.useState)(""),a=Object(S.a)(n,2),r=a[0],o=a[1],i=Object(c.useState)(t.displayName),s=Object(S.a)(i,2),l=s[0],j=s[1],u=Object(c.useState)(!1),b=Object(S.a)(u,2),O=b[0],h=b[1],p=Object(c.useState)(!1),x=Object(S.a)(p,2),f=x[0],y=x[1],k=function(){var e=Object(C.a)(w.a.mark((function e(n){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c={text:r,createdAt:P()().format("MMM Do YY"),creator:t.uid,displayName:l},e.next=4,d.collection("rolls").add(c);case 4:o(""),y(!0),setTimeout((function(){y(!1)}),5e3);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:[f&&Object(v.jsx)(A.a,{style:{marginTop:100},icon:"check circle outline",color:"green",header:"Thank you!",content:"Your message has been posted"}),Object(v.jsx)(z.a,{src:"".concat(t.photoUrl),avatar:!0,spaced:"right",bordered:!0,size:"mini"}),Object(v.jsx)("span",{style:{color:"white",fontSize:17},children:t.displayName}),Object(v.jsx)(I.a,{style:{paddingTop:15},children:Object(v.jsx)(N.a,{style:{height:350,width:400,fontSize:17,backgroundColor:"transparent",borderWidth:5,resize:"none"},type:"text",value:r,placeholder:"Any word",onChange:function(e){var t=e.target.value;o(t)},maxLength:280,required:!0})}),Object(v.jsxs)("div",{style:{paddingTop:15,float:"right"},children:[Object(v.jsx)(R.a,{content:O?"Show yourself":"Hide yourself",trigger:Object(v.jsxs)(g.a,{animated:"fade",toggle:!0,active:O,onClick:function(){h((function(e){return!e})),!1===O?j("Anonymous"):!0===O&&j(t.displayName)},children:[Object(v.jsx)(g.a.Content,{visible:!0,children:Object(v.jsx)(m.a,{name:O?"lock":"lock open"})}),Object(v.jsx)(g.a.Content,{hidden:!0,children:Object(v.jsx)(m.a,{name:O?"lock":"lock open"})})]})}),Object(v.jsx)(g.a,{disabled:!r,onClick:k,color:"green",children:"Complete"})]})]})},M=n(137),D=n(210),G=n.p+"static/media/profile.2cab9e82.svg",H=function(e){var t=e.userObj,n=e.rollObj,a=e.isOwner,r=Object(c.useState)(!1),o=Object(S.a)(r,2),i=o[0],s=o[1],l=Object(c.useState)(n.text),j=Object(S.a)(l,2),u=j[0],b=j[1],O=function(){var e=Object(C.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to permanently remove this item?")){e.next=4;break}return e.next=4,d.collection("rolls").doc("".concat(n.id)).delete();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(C.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,d.doc("rolls/".concat(n.id)).update({text:u});case 3:s(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){s((function(e){return!e})),b(n.text)};return Object(v.jsx)(v.Fragment,{children:i?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(D.a.Group,{children:Object(v.jsxs)(D.a,{children:[Object(v.jsxs)(D.a.Content,{children:[Object(v.jsx)(z.a,{floated:"right",size:"mini",src:G,circular:!0}),Object(v.jsx)(D.a.Header,{children:n.displayName}),Object(v.jsx)(D.a.Meta,{children:n.createdAt}),Object(v.jsx)(D.a.Description,{children:Object(v.jsx)(N.a,{rows:"5",style:{width:260,height:50,border:"none",resize:"none",outline:0},type:"text",placeholder:"Edit text",value:u,onChange:function(e){var t=e.target.value;b(t)},maxLength:280,required:!0})})]}),Object(v.jsx)(D.a.Content,{extra:!0,children:a&&Object(v.jsxs)("div",{className:"ui two buttons",children:[Object(v.jsx)(g.a,{onClick:p,children:"cancel"}),Object(v.jsx)(g.a,{onClick:h,value:"update",color:"green",children:"update"})]})})]})})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(D.a.Group,{children:Object(v.jsxs)(D.a,{children:[Object(v.jsxs)(D.a.Content,{children:[Object(v.jsx)(z.a,{floated:"right",size:"mini",src:"".concat(t.photoUrl),circular:!0}),Object(v.jsx)(D.a.Header,{children:n.displayName}),Object(v.jsx)(D.a.Meta,{children:n.createdAt}),Object(v.jsx)(D.a.Description,{content:n.text})]}),Object(v.jsx)(D.a.Content,{extra:!0,children:a&&Object(v.jsxs)("div",{className:"ui two buttons",children:[Object(v.jsx)(g.a,{onClick:O,basic:!0,color:"red",children:"Delete"}),Object(v.jsx)(g.a,{onClick:p,basic:!0,color:"yellow",children:"Edit"})]})})]})})})})},T=n(206),B=function(e){var t=e.userObj,n=Object(c.useState)([]),a=Object(i.a)(n,2),r=a[0],o=a[1],s=Object(c.useState)(8),l=Object(i.a)(s,2),j=l[0],u=l[1];Object(c.useEffect)((function(){d.collection("rolls").orderBy("createdAt","desc").limit(j).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(M.a)({id:e.id},e.data())}));o(t)}))}),[]);var b=function(){var e=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.collection("rolls").orderBy("createdAt","desc").limit(j),e.next=3,t.get().then((function(e){d.collection("rolls").orderBy("createdAt","desc").limit(2*j).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(M.a)({id:e.id},e.data())}));o(t)})),u(2*j)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(T.a,{children:[Object(v.jsx)(x.a,{columns:4,doubling:!0,stackable:!0,style:{paddingTop:100},children:r.map((function(e){return Object(v.jsx)(x.a.Column,{children:Object(v.jsx)(H,{rollObj:e,isOwner:t.uid===e.creator,userObj:t},e.id)},e.id)}))}),Object(v.jsx)(x.a,{columns:8,doubling:!0,stackable:!0,centered:!0,children:Object(v.jsx)(x.a.Column,{children:Object(v.jsxs)(g.a,{onClick:b,animated:"vertical",circular:!0,color:"blue",children:[Object(v.jsx)(g.a.Content,{visible:!0,children:"More"}),Object(v.jsx)(g.a.Content,{hidden:!0,children:Object(v.jsx)(m.a,{name:"arrow circle down"})})]})})})]})})},E=n(209),Y=function(e){e.userObj;var t=Object(c.useState)("Home"),n=Object(S.a)(t,2),a=n[0],r=n[1],o=Object(b.f)(),i=function(e,t){var n=t.name;return r(n)};return Object(v.jsxs)(E.a,{size:"large",widths:"3",color:"yellow",fixed:"top",children:[Object(v.jsx)(E.a.Item,{as:u.b,to:"/RollingPaper",name:"Home",active:"Home"===a,onClick:i}),Object(v.jsx)(E.a.Item,{as:u.b,to:"/RollSheet",name:"RollSheet",active:"RollSheet"===a,onClick:i}),Object(v.jsx)(E.a.Item,{onClick:function(){j.signOut(),o.push("/RollingPaper")},children:Object(v.jsx)(m.a,{name:"log out",size:"large"})})]})},U=function(e){var t=e.isLoggedIn,n=e.userObj;return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(u.a,{children:[t&&Object(v.jsx)(Y,{userObj:n}),Object(v.jsx)(b.c,{children:t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(b.a,{exact:!0,path:"/RollingPaper",children:Object(v.jsx)(L,{userObj:n})}),Object(v.jsx)(b.a,{exact:!0,path:"/RollSheet",children:Object(v.jsx)(B,{userObj:n})})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(b.a,{exact:!0,path:"/RollingPaper",children:Object(v.jsx)(y,{})})})})]})})},q=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),o=Object(i.a)(r,2),s=o[0],l=o[1],d=Object(c.useState)(!1),u=Object(i.a)(d,2),b=u[0],O=u[1];return Object(c.useEffect)((function(){j.onAuthStateChanged((function(e){e?(l({uid:e.uid,displayName:e.displayName,photoUrl:e.photoURL}),a(!0)):(a(!1),l(null)),O(!0)}))}),[]),Object(v.jsx)("div",{children:b?Object(v.jsx)(U,{isLoggedIn:n,userObj:s}):"Loading..."})};o.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(q,{})}),document.getElementById("root"))}},[[188,1,2]]]);
//# sourceMappingURL=main.620ffdbd.chunk.js.map