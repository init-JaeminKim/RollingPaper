(this.webpackJsonprolling=this.webpackJsonprolling||[]).push([[0],{172:function(e,t,n){},184:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(60),o=n.n(r),i=n(20),s=n(93);n(167),n(185);s.a.initializeApp({apiKey:"AIzaSyCc1jz1omi_w6uOYY0fV2CVLHLEBhoRSfg,",authDomain:"rollingpapers-01.firebaseapp.com,",projectId:"rollingpapers-01,",storageBucket:"rollingpapers-01.appspot.com,",messagingSenderId:"304299998135,",appId:"1:304299998135:web:faf3ddb5340bbd4153c632,"});var l=s.a,j=s.a.auth(),d=s.a.firestore(),u=n(91),b=n(13),O=n(30),h=n.n(O),x=n(43),p=(n(171),n(209)),f=n(210),m=n(87),g=n(208),v=(n(172),n(5)),y=function(){var e=function(){var e=Object(x.a)(h.a.mark((function e(t){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(n=t.target.name)?c=new l.auth.GoogleAuthProvider:"facebook"===n&&(c=new l.auth.FacebookAuthProvider),e.next=4,j.signInWithPopup(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{style:{paddingTop:"20%"},children:Object(v.jsx)(p.a,{columns:"1",stackable:!0,centered:!0,verticalAlign:"middle",children:Object(v.jsxs)(p.a.Column,{computer:"4",mobile:"4",widescreen:"4",children:[Object(v.jsxs)(f.a,{as:"h2",icon:!0,textAlign:"center",size:"huge",color:"yellow",children:[Object(v.jsx)(m.a,{name:"graduation cap"}),Object(v.jsx)(f.a.Content,{children:"Start with"})]}),Object(v.jsxs)(g.a.Group,{size:"huge",children:[Object(v.jsxs)(g.a,{name:"google",onClick:e,color:"google plus",children:[Object(v.jsx)(m.a,{name:"google"})," Google"]}),Object(v.jsx)(g.a.Or,{}),Object(v.jsxs)(g.a,{name:"facebook",onClick:e,color:"facebook",children:[Object(v.jsx)(m.a,{name:"facebook"})," Facebook"]})]})]})})})},w=n(207),k=n(148),C=n(204),S=n(201),A=n(203),z=function(e){var t=e.userObj,n=Object(c.useState)(""),a=Object(i.a)(n,2),r=a[0],o=a[1],s=Object(c.useState)(t.displayName),l=Object(i.a)(s,2),j=l[0],u=l[1],b=Object(c.useState)(!1),O=Object(i.a)(b,2),p=O[0],f=O[1],y=Object(c.useState)(!1),z=Object(i.a)(y,2),I=z[0],N=z[1],F=function(){var e=Object(x.a)(h.a.mark((function e(n){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c={text:r,createdAt:Date.now(),creator:t.uid,displayName:j},e.next=4,d.collection("rolls").add(c);case 4:o(""),N(!0),setTimeout((function(){N(!1)}),5e3);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:[I&&Object(v.jsx)(w.a,{style:{marginTop:100},icon:"check circle outline",color:"green",header:"Thank you!",content:"Your message has been posted"}),Object(v.jsx)(k.a,{src:"".concat(t.photoUrl),avatar:!0,spaced:"right",bordered:!0,size:"mini"}),Object(v.jsx)("span",{style:{color:"white",fontSize:17},children:t.displayName}),Object(v.jsx)(C.a,{style:{paddingTop:15},children:Object(v.jsx)(S.a,{style:{height:350,width:400,fontSize:17,backgroundColor:"transparent",borderWidth:5,resize:"none"},type:"text",value:r,placeholder:"Any word",onChange:function(e){var t=e.target.value;o(t)},maxLength:280,required:!0})}),Object(v.jsxs)("div",{style:{paddingTop:15,float:"right"},children:[Object(v.jsx)(A.a,{content:p?"Show yourself":"Hide yourself",trigger:Object(v.jsxs)(g.a,{animated:"fade",toggle:!0,active:p,onClick:function(){f((function(e){return!e})),!1===p?u("Anonymous"):!0===p&&u(t.displayName)},children:[Object(v.jsx)(g.a.Content,{visible:!0,children:Object(v.jsx)(m.a,{name:p?"lock":"lock open"})}),Object(v.jsx)(g.a.Content,{hidden:!0,children:Object(v.jsx)(m.a,{name:p?"lock":"lock open"})})]})}),Object(v.jsx)(g.a,{disabled:!r,onClick:F,color:"green",children:"Complete"})]})]})},I=n(134),N=n(206),F=function(e){var t=e.userObj,n=e.rollObj,a=e.isOwner,r=Object(c.useState)(!1),o=Object(i.a)(r,2),s=o[0],l=o[1],j=Object(c.useState)(n.text),u=Object(i.a)(j,2),b=u[0],O=u[1],p=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to permanently remove this item?")){e.next=4;break}return e.next=4,d.collection("rolls").doc("".concat(n.id)).delete();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(x.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,d.doc("rolls/".concat(n.id)).update({text:b});case 3:l(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){l((function(e){return!e})),O(n.text)};return Object(v.jsx)(v.Fragment,{children:s?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(N.a.Group,{children:Object(v.jsxs)(N.a,{children:[Object(v.jsxs)(N.a.Content,{children:[Object(v.jsx)(k.a,{floated:"right",size:"mini",src:"".concat(t.photoUrl),circular:!0}),Object(v.jsx)(N.a.Header,{children:n.displayName}),Object(v.jsx)(N.a.Meta,{children:n.createdAt}),Object(v.jsx)(N.a.Description,{children:Object(v.jsx)(S.a,{rows:"5",style:{width:260,height:50,border:"none",resize:"none",outline:0},type:"text",placeholder:"Edit text",value:b,onChange:function(e){var t=e.target.value;O(t)},maxLength:280,required:!0})})]}),Object(v.jsx)(N.a.Content,{extra:!0,children:a&&Object(v.jsxs)("div",{className:"ui two buttons",children:[Object(v.jsx)(g.a,{onClick:m,children:"cancel"}),Object(v.jsx)(g.a,{onClick:f,value:"update",color:"green",children:"update"})]})})]})})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(N.a.Group,{children:Object(v.jsxs)(N.a,{children:[Object(v.jsxs)(N.a.Content,{children:[Object(v.jsx)(k.a,{floated:"right",size:"mini",src:"".concat(t.photoUrl),circular:!0}),Object(v.jsx)(N.a.Header,{children:n.displayName}),Object(v.jsx)(N.a.Meta,{children:n.createdAt}),Object(v.jsx)(N.a.Description,{content:n.text})]}),Object(v.jsx)(N.a.Content,{extra:!0,children:a&&Object(v.jsxs)("div",{className:"ui two buttons",children:[Object(v.jsx)(g.a,{onClick:p,basic:!0,color:"red",children:"Delete"}),Object(v.jsx)(g.a,{onClick:m,basic:!0,color:"yellow",children:"Edit"})]})})]})})})})},L=n(202),R=function(e){var t=e.userObj,n=Object(c.useState)([]),a=Object(i.a)(n,2),r=a[0],o=a[1],s=Object(c.useState)(8),l=Object(i.a)(s,2),j=l[0],u=l[1];Object(c.useEffect)((function(){d.collection("rolls").orderBy("createdAt","desc").limit(j).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(I.a)({id:e.id},e.data())}));o(t)}))}),[]);var b=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.collection("rolls").orderBy("createdAt","desc").limit(j),e.next=3,t.get().then((function(e){d.collection("rolls").orderBy("createdAt","desc").limit(2*j).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(I.a)({id:e.id},e.data())}));o(t)})),u(2*j)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(L.a,{children:[Object(v.jsx)(p.a,{columns:4,doubling:!0,stackable:!0,style:{paddingTop:100},children:r.map((function(e){return Object(v.jsx)(p.a.Column,{children:Object(v.jsx)(F,{rollObj:e,isOwner:t.uid===e.creator,userObj:t},e.id)},e.id)}))}),Object(v.jsx)(p.a,{columns:8,doubling:!0,stackable:!0,centered:!0,children:Object(v.jsx)(p.a.Column,{children:Object(v.jsxs)(g.a,{onClick:b,animated:"vertical",circular:!0,color:"blue",children:[Object(v.jsx)(g.a.Content,{visible:!0,children:"More"}),Object(v.jsx)(g.a.Content,{hidden:!0,children:Object(v.jsx)(m.a,{name:"arrow circle down"})})]})})})]})})},D=n(205),H=function(e){e.userObj;var t=Object(c.useState)("Home"),n=Object(i.a)(t,2),a=n[0],r=n[1],o=Object(b.f)(),s=function(e,t){var n=t.name;return r(n)};return Object(v.jsxs)(D.a,{size:"large",widths:"3",color:"yellow",fixed:"top",children:[Object(v.jsx)(D.a.Item,{as:u.b,to:"/",name:"Home",active:"Home"===a,onClick:s}),Object(v.jsx)(D.a.Item,{as:u.b,to:"/RollSheet",name:"RollSheet",active:"RollSheet"===a,onClick:s}),Object(v.jsx)(D.a.Item,{onClick:function(){j.signOut(),o.push("/")},children:Object(v.jsx)(m.a,{name:"log out",size:"large"})})]})},T=function(e){var t=e.isLoggedIn,n=e.userObj;return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(u.a,{children:[t&&Object(v.jsx)(H,{userObj:n}),Object(v.jsx)(b.c,{children:t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(b.a,{exact:!0,path:"/RollingPaper",children:Object(v.jsx)(z,{userObj:n})}),Object(v.jsx)(b.a,{exact:!0,path:"/RollSheet",children:Object(v.jsx)(R,{userObj:n})})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(b.a,{exact:!0,path:"/RollingPaper",children:Object(v.jsx)(y,{})})})})]})})},B=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),o=Object(i.a)(r,2),s=o[0],l=o[1],d=Object(c.useState)(!1),u=Object(i.a)(d,2),b=u[0],O=u[1];return Object(c.useEffect)((function(){j.onAuthStateChanged((function(e){e?(l({uid:e.uid,displayName:e.displayName,photoUrl:e.photoURL}),a(!0)):(a(!1),l(null)),O(!0)}))}),[]),Object(v.jsx)("div",{children:b?Object(v.jsx)(T,{isLoggedIn:n,userObj:s}):"Loading..."})};o.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(B,{})}),document.getElementById("root"))}},[[184,1,2]]]);
//# sourceMappingURL=main.3c4979f2.chunk.js.map